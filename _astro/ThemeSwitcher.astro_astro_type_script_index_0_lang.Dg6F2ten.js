import{l as r}from"./theme.MuzuAIS1.js";const{documentElement:{classList:e}}=document;class n extends HTMLElement{_initClass=()=>{const{preferred:a,theme:t}=r();t==="auto"?(localStorage.removeItem("theme"),e.add("auto")):(localStorage.setItem("theme",t),e.remove("auto")),(t==="auto"?a:t)==="dark"?e.add("dark"):e.remove("dark")};_onClick=()=>{const{preferred:a,theme:t}=r(),o=this.nextMap[t];o==="auto"?(localStorage.removeItem("theme"),e.add("auto")):(localStorage.setItem("theme",o),e.remove("auto"));const s=o==="auto"?a:o;s==="dark"?e.add("dark"):e.remove("dark"),window.dispatchEvent(new CustomEvent("theme",{detail:{actual:s}}))};_onPrefersColorSchemeChange=()=>{const{preferred:a,theme:t}=r();t==="auto"&&(a==="dark"?e.add("dark"):e.remove("dark"),window.dispatchEvent(new CustomEvent("theme",{detail:{actual:a}})))};mql=window.matchMedia("(prefers-color-scheme: light)");nextMap={auto:"light",dark:"auto",light:"dark"};connectedCallback(){this._initClass(),this.querySelector("button")?.addEventListener("click",this._onClick),this.mql.addEventListener("change",this._onPrefersColorSchemeChange)}disconnectedCallback(){this.mql.removeEventListener("change",this._onPrefersColorSchemeChange)}}customElements.define("custom-theme-switcher",n);
